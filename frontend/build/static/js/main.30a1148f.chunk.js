(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),s=n(15),i=n.n(s),o=(n(125),n(25)),l=n(12),d=n(6),u=n(9),j=n.n(u),b=n(19),p=n(17),f=n.n(p),h="http://127.0.0.1:5000",O="USER_REGISTER_REQUEST",x="USER_REGISTER_SUCCESS",m="USER_REGISTER_FAIL",v="USER_SIGNIN_REQUEST",g="USER_SIGNIN_SUCCESS",E="USER_SIGNIN_FAIL",y="USER_SIGGNOUT",S="USER_DETAIL_REQUEST",_="USER_DETAIL_SUCCESS",w="USER_DETAIL_FAIL",I="USER_DETAIL_RESET",N="USER_UPDATE_PROFILE_REQUEST",U="USER_UPDATE_PROFILE_SUCCESS",C="USER_UPDATE_PROFILE_FAIL",F="USER_UPDATE_PROFILE_RESET",L="USER_LIST_REQUEST",D="USER_LIST_SUCCESS",k="USER_LIST_FAIL",A="USER_DELETE_REQUEST",T="USER_DELETE_SUCCESS",R="USER_DELTE_FAIL",P="USER_UPDATE_REQUEST",B="USER_UPDATE_SUCCESS",Q="USER_UPPDATE_FAIL",z=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:L}),a=n(),r=a.userSignin.userInfo,e.prev=2,e.next=5,f.a.get(h+"/api/user",{headers:{Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}});case 5:c=e.sent,s=c.data,t({type:D,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:k,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()},M=n(1);function q(){return Object(M.jsxs)("div",{className:"loading",children:[Object(M.jsx)("i",{className:"fa fa-spiner fa-spin"})," Loading..."]})}function G(e){return Object(M.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}function Y(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),l=Object(d.a)(i,2),u=l[0],p=l[1],O=e.location.search?e.location.search.split("=")[1]:"/",x=Object(c.c)((function(e){return e.userSignin})),m=x.userInfo,y=x.loading,S=x.error,_=Object(c.b)();return Object(a.useEffect)((function(){m&&e.history.push(O)}),[e.history,O,m]),Object(M.jsx)("div",{children:Object(M.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),_(function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(a){var r,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:v,payload:{email:e,password:t}}),n.prev=1,n.next=4,f.a.post(h+"/api/user/signin",{email:e,password:t});case 4:r=n.sent,c=r.data,a({type:g,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a({type:E,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(r,u))},children:[Object(M.jsx)("div",{children:Object(M.jsx)("h1",{children:"Sign In"})}),y&&Object(M.jsx)(q,{}),S&&Object(M.jsx)(G,{variant:"danger",children:S}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(M.jsx)("input",{type:"text",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return s(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"password",children:"Password"}),Object(M.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{}),Object(M.jsx)("button",{className:"primary",type:"submit",children:"Sign In"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{}),Object(M.jsxs)("div",{children:["New User? ",Object(M.jsx)(o.b,{to:"/register?redirect=$",children:"Create New Account"})]})]})]})})}var V=n(5),J="LICENSE_LIST_REQUEST",H="LICENSE_LIST_SUCCESS",X="LICENSE_LIST_FAIL",K="LICENSE_UPDATE_REQUEST",$="LICENSE_UPDATE_SUCCESS",W="LICENSE_LIST_FAIL",Z="LICENSE_DELETE_REQUEST",ee="LICENSE_DELETE_SUCCESS",te="LICENSE_DELETE_FAIL",ne=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:J}),a=n(),r=a.userSignin.userInfo,e.prev=2,e.next=5,f.a.get(h+"/api/license",{headers:{Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}});case 5:c=e.sent,s=c.data,t({type:H,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:X,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()},ae=n(35),re=n.n(ae),ce=n(263),se=n(261),ie=n(262),oe=n(264),le=n(36),de=n.n(le),ue=n(33),je=n.n(ue),be=n(104),pe=n.n(be);function fe(e){return pe()(e).format("YYYY-MM-DD")}function he(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.licenseList})),n=t.loading,r=t.error,s=t.licenses;Object(a.useEffect)((function(){e(ne())}),[e]);var i=Object(a.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],p=Object(a.useState)(!1),O=Object(d.a)(p,2),x=O[0],m=O[1],v=Object(a.useState)({}),g=Object(d.a)(v,2),E=g[0],y=g[1],S=Object(a.useState)(Date),_=Object(d.a)(S,2),w=_[0],I=_[1],N=Object(a.useState)(0),U=Object(d.a)(N,2),C=U[0],F=U[1],L=Object(a.useState)(0),D=Object(d.a)(L,2),k=D[0],A=D[1],T=Object(a.useState)(0),R=Object(d.a)(T,2),P=R[0],B=R[1],Q=Object(a.useState)(""),z=Object(d.a)(Q,2),Y=z[0],J=z[1],H=Object(a.useState)(!1),X=Object(d.a)(H,2),ae=X[0],le=X[1],be=Object(c.c)((function(e){return e.licenseUpdate})).updated;Object(a.useEffect)((function(){be&&(u(!1),e(ne()))}),[be,e]);var pe=Object(c.c)((function(e){return e.licenseDelete})).deleted;Object(a.useEffect)((function(){pe&&(m(!1),e(ne()))}),[pe,e]),Object(a.useEffect)((function(){var e=ae?new Date(Date.now()):new Date(E.date);C&&e.setFullYear(e.getFullYear()+parseInt(C)),k&&e.setMonth(e.getMonth()+parseInt(k)),P&&e.setDate(e.getDate()+parseInt(P)),I(e)}),[P,k,C,E,ae]);var he=[{dataField:"#",text:"No",formatter:function(e,t,n){return Object(M.jsx)("span",{children:n+1})}},{dataField:"deviceId",text:"DeviceId",sort:!0},{dataField:"date",text:"License Date",formatter:fe,sort:!0},{dataField:"createdAt",text:"Created Date",formatter:fe,sort:!0},{dataField:"updatedAt",text:"Updated Date",formatter:fe,sort:!0},{dataField:"updatedBy",text:"Updated By"},{dataField:"edit",text:"Action",sort:!1,formatter:function(e,t,n,a){return Object(M.jsxs)("div",{style:{textAlign:"center",cursor:"pointer",lineHeight:"normal"},children:[Object(M.jsx)("span",{onClick:function(){return xe(t)},children:Object(M.jsx)("i",{className:"fa fa fa-pencil-square-o"})})," ",Object(M.jsx)("span",{onClick:function(){return e=t,m(!0),void y(e);var e},children:Object(M.jsx)("i",{className:"fa fa-trash-o"})})]})},headerAttrs:{width:100},attrs:{width:100,class:"EditRow"}}],Oe=ue.Search.SearchBar;function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(I(e.date),y(e),le(!1)):(I(Date.now()),y({}),le(!0)),B(0),A(0),F(0),u(!0)}function me(){var t;e((t={_id:E._id,deviceId:Y,date:w},function(){var e=Object(b.a)(j.a.mark((function e(n,a){var r,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:K}),r=a(),c=r.userSignin.userInfo,e.prev=2,!t._id){e.next=9;break}return e.next=6,f.a.put(h+"/api/license/"+t._id,t,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,f.a.post(h+"/api/license",t,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 11:e.t0=e.sent;case 12:s=e.t0,i=s.res,n({type:$,payload:i}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),n({type:W,payload:e.t1.message});case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,n){return e.apply(this,arguments)}}()))}function ve(){var t;e((t={id:E._id},function(){var e=Object(b.a)(j.a.mark((function e(n,a){var r,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:Z}),r=a(),c=r.userSignin.userInfo,e.prev=2,e.next=5,f.a.delete(h+"/api/license/"+t.id,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 5:s=e.sent,i=s.res,n({type:ee,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n({type:te,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()))}return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{className:"title",children:"License Management"}),n?Object(M.jsx)(q,{}):r?Object(M.jsx)(G,{variant:"danger",children:r}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ce.a,{show:l,children:Object(M.jsx)(ce.a.Body,{children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(ce.a.Title,{children:ae?Object(M.jsx)(M.Fragment,{children:"New Device"}):Object(M.jsxs)(M.Fragment,{children:['Update Device "',E.deviceId,'" ']})}),ae?Object(M.jsxs)("div",{className:"formgroup mt-2",children:[Object(M.jsx)("label",{children:"DeviceId:"}),Object(M.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return J(e.target.value)}})]}):Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsx)("label",{children:"Current License Date:"})," ",fe(E.date)]}),Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsx)("label",{children:"Target License Date:"})," ",fe(w)]}),Object(M.jsxs)(ie.a,{className:"mt-4",children:[Object(M.jsxs)("div",{className:"formgroup col-4",children:[Object(M.jsx)("label",{children:"Year:"}),Object(M.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",onChange:function(e){return F(e.target.value)}})]}),Object(M.jsxs)("div",{className:"formgroup col-4",children:[Object(M.jsx)("label",{children:"Month:"}),Object(M.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",onChange:function(e){return A(e.target.value)}})]}),Object(M.jsxs)("div",{className:"formgroup col-4",children:[Object(M.jsx)("label",{children:"Date:"}),Object(M.jsx)("input",{type:"number",min:"0",step:"1",className:"form-control",onChange:function(e){return B(e.target.value)}})]})]}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-danger",onClick:function(){return u(!1)},children:"Cancel"}),Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-primary",onClick:function(){return me()},children:"Update"})]})]})})}),Object(M.jsx)(ce.a,{show:x,children:Object(M.jsx)(ce.a.Body,{children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(ce.a.Title,{className:"m-1",children:"Delete Device"}),Object(M.jsxs)("p",{children:['Do you want really Device "',E.deviceId,'"']}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-danger",onClick:function(){return m(!1)},children:"Cancel"}),Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-primary",onClick:function(){return ve()},children:"Delete"})]})]})})}),Object(M.jsx)(je.a,{keyField:"_id",data:s,columns:he,search:{searchFormatted:!0},children:function(e){return Object(M.jsxs)("div",{className:"flex",children:[Object(M.jsx)(Oe,Object(V.a)(Object(V.a)({},e.searchProps),{},{className:"m-2"})),Object(M.jsx)(oe.a,{className:"float-end",onClick:function(){return xe()},children:"New Device"}),Object(M.jsx)(re.a,Object(V.a)(Object(V.a)({},e.baseProps),{},{pagination:de()()}))]})}})]})]})}function Oe(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),l=Object(d.a)(i,2),u=l[0],p=l[1],v=Object(a.useState)(""),E=Object(d.a)(v,2),y=E[0],S=E[1],_=Object(a.useState)(""),w=Object(d.a)(_,2),I=w[0],N=w[1],U=e.location.search?e.location.search.split("=")[1]:"/",C=Object(c.c)((function(e){return e.userRegister})),F=C.userInfo,L=C.loading,D=C.error,k=Object(c.b)();return Object(a.useEffect)((function(){F&&e.history.push(U)}),[e.history,U,F]),Object(M.jsx)("div",{children:Object(M.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),y!==I?alert("Password and confirm password are not match"):k(function(e,t,n){return function(){var a=Object(b.a)(j.a.mark((function a(r){var c,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:O,payload:{email:t,password:n}}),a.prev=1,a.next=4,f.a.post(h+"/api/user/register",{name:e,email:t,password:n});case 4:c=a.sent,s=c.data,r({type:x,payload:s}),r({type:g,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),r({type:m,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(r,u,y))},children:[Object(M.jsx)("div",{children:Object(M.jsx)("h1",{children:"Register"})}),L&&Object(M.jsx)(q,{}),D&&Object(M.jsx)(G,{variant:"danger",children:D}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"email",children:"Name"}),Object(M.jsx)("input",{type:"text",id:"name",placeholder:"Enter name",required:!0,onChange:function(e){return s(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(M.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"password",children:"Password"}),Object(M.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return S(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(M.jsx)("input",{type:"password",id:"confirmPassword",placeholder:"Enter confirm password",required:!0,onChange:function(e){return N(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{}),Object(M.jsx)("button",{className:"primary",type:"submit",children:"Register"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{}),Object(M.jsxs)("div",{children:["Already have an account? ",Object(M.jsx)(o.b,{to:"/sinin",children:"Sign In"})]})]})]})})}function xe(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(""),p=Object(d.a)(u,2),O=p[0],x=p[1],m=Object(a.useState)(""),v=Object(d.a)(m,2),E=v[0],y=v[1],I=Object(c.c)((function(e){return e.userSignin})).userInfo,L=Object(c.c)((function(e){return e.userDetails})),D=L.loading,k=L.error,A=L.user,T=Object(c.c)((function(e){return e.userUpdateProfile})),R=T.success,P=T.error,B=T.loading,Q=Object(c.b)();Object(a.useEffect)((function(){var e;A?(r(A.name),l(A.email)):(Q({type:F}),Q((e=I._id,function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r,c,s,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:S,payload:e}),r=a(),c=r.userSignin.userInfo,t.prev=2,t.next=5,f.a.get(h+"/api/user/".concat(e),{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 5:s=t.sent,i=s.data,n({type:_,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,n({type:w,payload:o});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}())))}),[Q,I._id,A]);return Object(M.jsx)("div",{children:Object(M.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),O!==E?alert("Password and Confirm Password Are Not Matched"):Q(function(e){return function(t,n){t({type:N,payload:e});var a=n().userSignin.userInfo;try{var r=f.a.put(h+"/api/user/profile",e,{headers:{Authorization:"Bearer ".concat(a.token)}}).data;t({type:U,payload:r}),t({type:g,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(k){var c=k.response&&k.response.data.message?k.response.data.message:k.message;t({type:C,payload:c})}}}({userId:A._id,name:n,email:o,password:O}))},children:[Object(M.jsx)("div",{children:Object(M.jsx)("h1",{children:"Uer Profile"})}),D?Object(M.jsx)(q,{}):k?Object(M.jsx)(G,{variant:"danger",children:k}):Object(M.jsxs)(M.Fragment,{children:[B&&Object(M.jsx)(q,{}),P&&Object(M.jsx)(G,{variant:"danger",children:P}),R&&Object(M.jsx)(G,{variant:"success",children:"Profile Updated"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"name",children:"Name"}),Object(M.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"email",children:"Email"}),Object(M.jsx)("input",{id:"email",type:"email",placeholder:"Enter email",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"password",children:"Password"}),Object(M.jsx)("input",{id:"password",type:"password",placeholder:"Enter password",onChange:function(e){return x(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{htmlFor:"confirmPassword",children:"confirmPassword"}),Object(M.jsx)("input",{id:"confirmPassword",type:"password",placeholder:"Enter confirm password",onChange:function(e){return y(e.target.value)}})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{}),Object(M.jsx)("button",{className:"primary",type:"submit",children:"Update"})]})]})]})})}var me=n(13),ve=["component"];function ge(e){var t=e.component,n=Object(me.a)(e,ve),a=Object(c.c)((function(e){return e.userSignin})).userInfo;return Object(M.jsx)(l.b,Object(V.a)(Object(V.a)({},n),{},{render:function(e){return a?Object(M.jsx)(t,Object(V.a)({},e)):Object(M.jsx)(l.a,{to:"/signin"})}}))}var Ee="FILE_LIST_REQUEST",ye="FILE_LIST_SUCCESS",Se="FILE_LIST_FAIL",_e="FILE_UPLOAD_REQUEST",we="FILE_UPLOAD_SUCCESS",Ie="FILE_UPLOAD_FAIL",Ne="FILE_DELETE_REQUEST",Ue="FILE_DELETE_SUCCESS",Ce="FILE_DELETE_FAIL",Fe=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ee}),a=n(),r=a.userSignin.userInfo,e.prev=2,e.next=5,f.a.get(h+"/api/file",{headers:{Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.token)}});case 5:c=e.sent,s=c.data,t({type:ye,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:Se,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()},Le=n(108),De=n.n(Le);n(208);function ke(){var e=ue.Search.SearchBar,t=Object(c.b)(),n=Object(c.c)((function(e){return e.fileList})),r=n.loading,s=n.error,i=n.files;Object(a.useEffect)((function(){t(Fe())}),[t]);var o=Object(a.useState)(!1),l=Object(d.a)(o,2),u=l[0],p=l[1];Object(a.useEffect)((function(){u&&v(null)}),[u]);var O=Object(a.useState)(null),x=Object(d.a)(O,2),m=x[0],v=x[1],g=Object(a.useState)(new Date),E=Object(d.a)(g,2),y=E[0],S=E[1],_=Object(a.useState)(!1),w=Object(d.a)(_,2),I=w[0],N=w[1],U=Object(a.useState)(""),C=Object(d.a)(U,2),F=C[0],L=C[1];Object(a.useEffect)((function(){N(!0)}),[F]);var D=Object(c.c)((function(e){return e.fileUpload})).uploaded;Object(a.useEffect)((function(){D&&(p(!1),t(Fe()))}),[D,t]);var k=Object(c.c)((function(e){return e.fileDelete})).deleted;Object(a.useEffect)((function(){k&&(N(!1),t(Fe()))}),[k,t]);var A=[{dataField:"#",text:"No",formatter:function(e,t,n){return Object(M.jsx)("span",{children:n+1})}},{dataField:"name",text:"Name",sort:!0,formatter:function(e,n){return Object(M.jsx)("span",{onClick:function(){var e;t((e=n._id,function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"FILE_GET_REQUEST"}),r=a(),c=r.userSignin.userInfo,t.prev=2,t.next=5,f.a.get(h+"/api/file/"+e,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 5:n({type:"FILE_GET_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),n({type:"FILE_GET_FAIL"});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}()))},children:e})}},{dataField:"date",text:"Date",formatter:fe,sort:!0},{dataField:"createdAt",text:"Uploaded Date",formatter:fe,sort:!0},{dataField:"updatedBy",text:"Uploaded By"},{dataField:"edit",text:"Action",sort:!1,formatter:function(e,t){return Object(M.jsx)("div",{style:{textAlign:"center",cursor:"pointer",lineHeight:"normal"},children:Object(M.jsx)("span",{onClick:function(){return L(t)},children:Object(M.jsx)("i",{className:"fa fa-trash-o"})})})},headerAttrs:{width:100},attrs:{width:100,class:"EditRow"}}];return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{className:"title",children:"File Management"}),r?Object(M.jsx)(q,{}):s?Object(M.jsx)(G,{variant:"danger",children:s}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ce.a,{show:u,children:Object(M.jsx)(ce.a.Body,{children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(ce.a.Title,{children:"Upload File"}),Object(M.jsx)("input",{type:"file",className:"form-control mt-4",multiple:!0,accept:".csv",onChange:function(e){return v(e.target.files)}}),Object(M.jsxs)("div",{className:"formgroup mt-4",children:[Object(M.jsx)("label",{children:"Date"}),Object(M.jsx)(De.a,{className:"form-control",selected:y,onChange:function(e){return S(e)}})]}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-danger",onClick:function(){return p(!1)},children:"Cancel"}),Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-primary",onClick:function(e){e.preventDefault();var n,a=new FormData;Array.from(m).forEach((function(e){a.append("file",e)})),y&&a.append("date",y),t((n=a,function(){var e=Object(b.a)(j.a.mark((function e(t,a){var r,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_e}),r=a(),c=r.userSignin.userInfo,e.prev=2,e.next=5,f.a.post(h+"/api/file/upload",n,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token),"Content-Type":"multipart/form-data"}});case 5:s=e.sent,t({type:we,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:Ie,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:"OK"})]})]})})}),Object(M.jsx)(ce.a,{show:I,children:Object(M.jsx)(ce.a.Body,{children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(ce.a.Title,{className:"m-1",children:"Delete File"}),Object(M.jsxs)("p",{children:["Do you want really delete ",F.name," file?"]}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-danger",onClick:function(){return N(!1)},children:"Cancel"}),Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-primary",onClick:function(){var e;t((e=F._id,function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r,c,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:Ne}),r=a(),c=r.userSignin.userInfo,t.prev=2,t.next=5,f.a.delete(h+"/api/file/"+e,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 5:s=t.sent,i=s.res,n({type:Ue,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),n({type:Ce,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()))},children:"Delete"})]})]})})}),Object(M.jsx)(je.a,{keyField:"_id",data:i,columns:A,search:{searchFormatted:!0},children:function(t){return Object(M.jsxs)("div",{className:"flex",children:[Object(M.jsx)(e,Object(V.a)(Object(V.a)({},t.searchProps),{},{className:"m-2"})),Object(M.jsx)(oe.a,{className:"float-end",onClick:function(){return p(!0)},children:"Upload Excel"}),Object(M.jsx)(re.a,Object(V.a)(Object(V.a)({},t.baseProps),{},{pagination:de()()}))]})}})]})]})}function Ae(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.userList})),n=t.loading,r=t.error,s=t.users;Object(a.useEffect)((function(){e(z())}),[e]);var i=Object(a.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],p=Object(a.useState)({}),O=Object(d.a)(p,2),x=O[0],m=O[1];Object(a.useEffect)((function(){u(!0)}),[x]);var v=Object(c.c)((function(e){return e.userUpdate})).updated;Object(a.useEffect)((function(){v&&e(z())}),[v,e]);var g=Object(c.c)((function(e){return e.userDelete})).deleted;Object(a.useEffect)((function(){g&&(u(!1),e(z()))}),[g,e]);var E=[{dataField:"#",text:"No",formatter:function(e,t,n){return Object(M.jsx)("span",{children:n+1})}},{dataField:"name",text:"Name",sort:!0},{dataField:"email",text:"Email",sort:!0},{dataField:"createdAt",text:"Created Date",formatter:fe,sort:!0},{dataField:"updatedAt",text:"Updated Date",formatter:fe,sort:!0},{dataField:"isAdmin",text:"Admin",sort:!0,formatter:function(e,t){return Object(M.jsx)("div",{children:Object(M.jsx)("span",{onClick:function(){return S(t,!0)},children:Object(M.jsx)("i",{className:e?"fa fa-check-square-o":"fa fa-square-o","aria-hidden":"true"})})})}},{dataField:"isVerified",text:"Verified",formatter:function(e,t){return Object(M.jsx)("div",{style:{textAlign:"center",cursor:"pointer",lineHeight:"normal"},children:Object(M.jsx)("span",{onClick:function(){return S(t,!1)},children:Object(M.jsx)("i",{className:e?"fa fa-check-square-o":"fa fa-square-o"})})})}},{dataField:"edit",text:"Action",formatter:function(e,t){return Object(M.jsx)("div",{style:{textAlign:"center",cursor:"pointer",lineHeight:"normal"},children:Object(M.jsx)("span",{onClick:function(){return m(t)},children:Object(M.jsx)("i",{className:"fa fa-trash-o"})})})},headerAttrs:{width:100},attrs:{width:100,class:"EditRow"}}],y=ue.Search.SearchBar;function S(t,n){var a={_id:t._id,isAdmin:n?!t.isAdmin:t.isAdmin,isVerified:n?t.isVerified:!t.isVerified};e(function(e){return function(){var t=Object(b.a)(j.a.mark((function t(n,a){var r,c,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:P}),r=a(),c=r.userSignin.userInfo,t.prev=2,t.next=5,f.a.put(h+"/api/user/"+e._id,e,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 5:s=t.sent,i=s.res,n({type:B,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),n({type:Q,payload:t.t0.messageg});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(a))}return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{className:"title",children:"User Management"}),n?Object(M.jsx)(q,{}):r?Object(M.jsx)(G,{variant:"danger",children:r}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ce.a,{show:l,children:Object(M.jsx)(ce.a.Body,{children:Object(M.jsxs)(se.a,{children:[Object(M.jsx)(ce.a.Title,{className:"m-1",children:"Delete User"}),Object(M.jsxs)("p",{children:['Do you want really delete "',x.name,'"']}),Object(M.jsxs)("div",{className:"flex mt-2",children:[Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-danger",onClick:function(){return u(!1)},children:"Cancel"}),Object(M.jsx)(oe.a,{className:"m-2 float-end btn btn-primary",onClick:function(){return e((t=x._id,function(){var e=Object(b.a)(j.a.mark((function e(n,a){var r,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:A}),r=a(),c=r.userSignin.userInfo,e.prev=2,e.next=5,f.a.delete(h+"/api/user/"+t,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.token)}});case 5:s=e.sent,i=s.res,n({type:T,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n({type:R,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()));var t},children:"Delete"})]})]})})}),Object(M.jsx)(je.a,{keyField:"_id",data:s,columns:E,search:{searchFormatted:!0},children:function(e){return Object(M.jsxs)("div",{className:"flex",children:[Object(M.jsx)(y,Object(V.a)(Object(V.a)({},e.searchProps),{},{className:"m-2"})),Object(M.jsx)(re.a,Object(V.a)(Object(V.a)({},e.baseProps),{},{pagination:de()()}))]})}})]})]})}var Te=function(){var e=Object(c.c)((function(e){return e.userSignin})).userInfo,t=Object(c.b)();return Object(M.jsx)(o.a,{children:Object(M.jsxs)("div",{className:"grid-container",children:[Object(M.jsxs)("header",{className:"ms-row",children:[Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{className:"brand",to:"/license",children:"Metastock"})}),Object(M.jsx)("div",{children:e?Object(M.jsxs)(M.Fragment,{children:[e.isAdmin?Object(M.jsx)(o.b,{to:"/user",children:"Users"}):null,Object(M.jsx)(o.b,{to:"/upload",children:"Upload"}),Object(M.jsxs)("div",{className:"dropdown",children:[Object(M.jsxs)(o.b,{to:"/#",children:[e.name," ",Object(M.jsx)("i",{className:"fa fa-caret-down"})]}),Object(M.jsxs)("ul",{className:"dropdown-content",children:[Object(M.jsx)("li",{children:Object(M.jsx)(o.b,{to:"#signout",onClick:function(){t((function(e){localStorage.removeItem("userInfo"),e({type:y}),document.location.href="/signin"}))},children:"Sign Out"})}),Object(M.jsx)("li",{children:Object(M.jsx)(o.b,{to:"/profile",children:"User Profile"})})]})]})]}):Object(M.jsx)(o.b,{to:"/signin",children:"Sign In"})})]}),Object(M.jsxs)("main",{children:[Object(M.jsx)(ge,{path:"/license",component:he,exat:!0}),Object(M.jsx)(ge,{path:"/upload",component:ke,exat:!0}),Object(M.jsx)(ge,{path:"/user",component:Ae,exat:!0}),Object(M.jsx)(l.b,{path:"/signin",component:Y,exat:!0}),Object(M.jsx)(l.b,{path:"/register",component:Oe,exat:!0}),Object(M.jsx)(ge,{path:"/profile",component:xe}),Object(M.jsx)(l.b,{exact:!0,path:"/",children:Object(M.jsx)(l.a,{to:"/license"})})]}),Object(M.jsx)("footer",{className:"ms-row center",children:"All right reserved"})]})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,265)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},Pe=n(48),Be=n(111),Qe=Object(Pe.b)({userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case x:return{loading:!1,userInfo:t.payload};case m:return{loading:!1,error:t.payload};default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0};case g:return{loading:!1,userInfo:t.payload};case E:return{loading:!1,error:t.payload};case y:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case I:return{loading:!0};case _:return{loading:!1,user:t.payload};case w:return{loading:!1,error:t.payload};default:return e}},licenseList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,licenses:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case H:return{loading:!1,licenses:t.payload};case X:return{loading:!1,error:t.payload};default:return e}},licenseUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{updated:!1};case $:return{updated:!0};case W:return{updated:!0,error:t.payload};default:return e}},licenseDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deleted:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{deleted:!1};case ee:return{deleted:!0};case te:return{deleted:!0,error:t.payload};default:return e}},fileList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,files:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case ye:return{loading:!1,files:t.payload};case Se:return{loading:!1,error:t.payload};default:return e}},fileUpload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return{uploaded:!1};case we:return{uploaded:!0};case Ie:return{uploaded:!0,error:t.payload};default:return e}},fileDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deleted:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return{deleted:!1};case Ue:return{deleted:!0};case Ce:return{deleted:!0,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case U:return{loading:!1,success:!0};case C:return{loading:!1,error:t.payload};case F:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case D:return{loading:!1,users:t.payload};case k:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{updated:!1};case B:return{updated:!0};case Q:return{updated:!0,error:t.payload};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deleted:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{deleted:!1};case T:return{deleted:!0};case R:return{deleted:!0,error:t.payload};default:return e}}}),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pe.c,Me=Object(Pe.d)(Qe,{},ze(Object(Pe.a)(Be.a)));n(250);i.a.render(Object(M.jsx)(c.a,{store:Me,children:Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(Te,{})})}),document.getElementById("root")),Re()}},[[252,1,2]]]);
//# sourceMappingURL=main.30a1148f.chunk.js.map